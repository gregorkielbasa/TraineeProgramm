## STEPS TO RUN JENKINS


## run a container with jenkins

docker run -d --name jenkins \
  -p 9000:8080 -p 50000:50000 \
  --network minikube \
  -v jenkins_home:/var/jenkins_home \
  -v /var/run/docker.sock:/var/run/docker.sock \
  -v ~/.kube/config:/var/jenkins_home/.kube/config \
  --user 0:1 \
  jenkins/jenkins:lts


## open jenkinsâ€™ terminal to install docker CLI

docker exec -it jenkins sh


## download and install docker CLI (here ver27.0.3)

curl -fsSLO https://download.docker.com/linux/static/stable/x86_64/docker-27.0.3.tgz \
  && tar xzvf docker-27.0.3.tgz --strip 1 \
                 -C /usr/local/bin docker/docker \
  && rm docker-27.0.3.tgz


## download docker-compose (as standalone)

curl -SL https://github.com/docker/compose/releases/download/v2.29.0/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose


## login as SU, copy files and change privileges to EXECUTE 

su
ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
chmod +x /usr/local/bin/docker-compose


## exit SU and check if works

exit
docker --version
docker-compose --version






## Install kubectl CLI
# download kubectl file

curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"


# make it executable

chmod +x ./kubectl


# move it to bin dir

mv ./kubectl /usr/local/bin/kubectl


# test it!

kubectl version --client